<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Quote Generator</title>
    <style>
      /* Basic styling for better readability and centering */
      body {
        font-family: sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        background-color: #f4f4f4;
        color: #333;
        min-height: 100vh;
        margin: 0;
        box-sizing: border-box;
      }
      h1 {
        color: #0056b3;
        margin-bottom: 30px;
      }
      #quoteDisplay {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 30px;
        margin-bottom: 30px;
        max-width: 600px;
        width: 100%;
        text-align: center;
        min-height: 120px; /* Ensure some height even if content is short */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      #quoteDisplay p:first-child {
        font-size: 1.5em;
        font-style: italic;
        margin-bottom: 10px;
        color: #555;
      }
      #quoteDisplay p:last-child {
        font-size: 1em;
        font-weight: bold;
        color: #777;
      }
      /* Buttons for show new quote, add quote, and export */
      button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
        margin-bottom: 20px;
        transition: background-color 0.3s ease;
      }
      button:hover {
        background-color: #0056b3;
      }
      /* Styling for the Add Quote form container */
      .add-quote-form {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 25px;
        max-width: 500px;
        width: 100%;
        text-align: center;
        margin-top: 20px;
      }
      .add-quote-form h2 {
        color: #0056b3;
        margin-bottom: 20px;
      }
      .add-quote-form input[type="text"] {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1em;
      }
      .add-quote-form input[type="text"]:focus,
        .add-quote-form input[type="email"]:focus, /* Not used here, but good general practice */
        .add-quote-form textarea:focus {
        /* Not used here, but good general practice */
        border-color: #007bff;
        outline: none;
        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
      }
      .add-quote-form button {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
      }
      /* Styling for JSON Import/Export section */
      .json-controls {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 25px;
        max-width: 500px;
        width: 100%;
        text-align: center;
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        gap: 15px;
      }
      .json-controls h2 {
        color: #0056b3;
        margin-bottom: 5px;
      }
      .json-controls button {
        margin-bottom: 0; /* Override previous margin */
        width: auto; /* Allow button to size to content */
        align-self: center; /* Center buttons within flex column */
      }
      .json-controls input[type="file"] {
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: #f9f9f9;
      }
      #lastViewedQuoteDisplay {
        margin-top: 20px;
        font-size: 0.9em;
        color: #666;
        background-color: #e0e0e0;
        padding: 10px;
        border-radius: 5px;
        max-width: 600px;
        width: 100%;
        text-align: center;
      }
      /* Styling for the category filter dropdown */
      #categoryFilter {
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1em;
        width: 100%;
        max-width: 300px; /* Limit width of dropdown */
        box-sizing: border-box;
        background-color: #fff;
        cursor: pointer;
      }
      /* Styling for sync status messages */
      #syncStatus {
        margin-top: 20px;
        padding: 10px;
        border-radius: 5px;
        text-align: center;
        max-width: 600px;
        width: 100%;
        font-weight: bold;
        display: none; /* Hidden by default */
      }
      .sync-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #badbcc;
      }
      .sync-info {
        background-color: #dbeeff;
        color: #004085;
        border: 1px solid #bee5eb;
      }
      .sync-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
    </style>
  </head>
  <body>
    <h1>Dynamic Quote Generator</h1>
    <div id="quoteDisplay"></div>

    <!-- Category Filter Dropdown -->
    <select id="categoryFilter">
      <option value="all">All Categories</option>
      <!-- Categories will be populated dynamically by JavaScript -->
    </select>

    <button id="newQuote">Show New Quote</button>
    <div id="addQuoteFormContainer"></div>
    <!-- Placeholder for the dynamically generated form -->

    <!-- New section for JSON Import/Export -->
    <div class="json-controls">
      <h2>Manage Quotes (JSON)</h2>
      <button id="exportQuotes">Export Quotes to JSON</button>
      <label
        for="importFile"
        style="
          cursor: pointer;
          display: block;
          background-color: #28a745;
          color: white;
          padding: 10px 20px;
          border-radius: 5px;
          text-align: center;
        "
      >
        Import Quotes from JSON
        <input
          type="file"
          id="importFile"
          accept=".json"
          style="display: none"
        />
      </label>
    </div>

    <!-- New section for Sync Controls -->
    <div class="json-controls">
      <h2>Data Sync</h2>
      <button id="forceSync">Force Sync with Server</button>
      <div id="syncStatus"></div>
      <!-- For sync notifications -->
    </div>

    <!-- New element for Session Storage demonstration -->
    <div id="lastViewedQuoteDisplay"></div>

    <script src="script.js"></script>
  </body>
</html>
